{"version":3,"sources":["main.es6.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA,YAAY,CAAC;;;;;;;;;;;;IAGP,cAAc;;;;AAGlB,WAHI,cAAc,GAGJ;;;0BAHV,cAAc;;;AAKhB,QAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;AACjE,QAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AAC3D,QAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AACrD,QAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC;;;AAAC,AAGxE,QAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE;aAAM,MAAK,QAAQ,EAAE;KAAA,CAAC;;;AAAC,AAGpE,QAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE;aAAM,MAAK,YAAY,EAAE;KAAA,CAAC;;;AAAC,AAG3E,SAAK,IAAI,GAAG,IAAI,YAAY,EAAE;AAC5B,UAAI,CAAC,WAAW,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;KAC1C;;;AAAA,AAGD,UAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAA,UAAS,CAAC,EAAE;AAC7C,UAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;KACrC,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GACf;;;AAAA;eAzBG,cAAc;;+BA4BP;AACT,UAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE;AAC/B,YAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC;AAChC,oBAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;AACvD,YAAI,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;AACnD,sBAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAC7D,YAAI,CAAC,YAAY,EAAE,CAAC;OACrB;KACF;;;;;;;;gCAUW,GAAG,EAAE,OAAO,EAAE;AACxB,UAAI,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC;;AAAC,AAExC,UAAI,CAAC,IAAI,EAAE;AACT,YAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;AAC7C,YAAI,CAAC,EAAE,GAAG,GAAG,CAAC;AACd,YAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;OAC5E;;AAAA,AAED,UAAI,CAAC,OAAO,EAAE;AACZ,eAAO,IAAI,CAAC,UAAU,EAAE,CAAC;OAC1B;AACD,UAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;KAC1B;;;;;;mCAGc;AACb,UAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE;AAC/B,YAAI,CAAC,aAAa,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;OAChD,MAAM;AACL,YAAI,CAAC,aAAa,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;OACrD;KACF;;;2CA7B6B,OAAO,EAAE;AACrC,aAAO,CAAC,KAAK,GAAG,EAAE,CAAC;AACnB,aAAO,CAAC,UAAU,CAAC,iBAAiB,CAAC,yBAAyB,EAAE,CAAC;AACjE,aAAO,CAAC,IAAI,EAAE,CAAC;KAChB;;;SA3CG,cAAc;;;;;AAwEpB,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAW;AACzC,MAAI,cAAc,EAAE,CAAC;CACtB,CAAC;;;AAAC;IAGG,UAAU;YAAV,UAAU;;WAAV,UAAU;0BAAV,UAAU;;kEAAV,UAAU;;;eAAV,UAAU;;;;sCAGI;;;;AAChB,oBAAA,IAAI,CAAC,SAAS,EAAC,GAAG,MAAA,gCAAI,UAAU,CAAC,OAAO,EAAC,CAAC;AAC1C,UAAI,CAAC,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC;AACrC,UAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AACrD,UAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC/C,UAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AAClD,UAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE;eAAM,OAAK,UAAU,EAAE;OAAA,CAAC,CAAC;KACtE;;;;;;6CAGwB,aAAa,EAAE;;AAEtC,UAAI,aAAa,IAAI,IAAI,EAAE;AACzB,YAAI,IAAI,YAAA,CAAC;AACT,YAAI,IAAI,CAAC,EAAE,EAAE;AACX,cAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SACpC,MAAM;AACL,cAAI,GAAG,IAAI,IAAI,EAAE,CAAC;SACnB;AACD,YAAI,oBAAoB,GAAG,EAAC,GAAG,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAC,CAAC;AAC5D,YAAI,SAAS,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACpF,YAAI,CAAC,WAAW,CAAC,WAAW,mBAAiB,SAAS,AAAE,CAAC;OAC1D;KACF;;;;;;+BAGU,OAAO,EAAE;AAClB,UAAI,CAAC,cAAc,CAAC,WAAW,GAAG,OAAO;;AAAC,AAE1C,UAAI,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;KACtF;;;;;;iCAGY;AACX,kBAAY,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACjC,UAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACnC;;;SAvCG,UAAU;GAAS,WAAW;;;;AA2CpC,UAAU,CAAC,QAAQ,8JAKP;;;AAAC,AAGb,UAAU,CAAC,OAAO,GAAG,CAAC,yBAAyB,EAAE,2BAA2B,EAAE,kBAAkB,EAC9F,iBAAiB,EAAE,wBAAwB,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,CAAC;;;AAAC,AAGtF,UAAU,CAAC,MAAM,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAC7E,KAAK,CAAC,CAAC;;AAE5B,QAAQ,CAAC,eAAe,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC","file":"main.es5.js","sourcesContent":["/**\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\n\nclass StickyNotesApp {\n\n  // Initializes the Sticky Notes app.\n  constructor() {\n    // Shortcuts to DOM Elements.\n    this.notesContainer = document.getElementById('notes-container');\n    this.noteMessageInput = document.getElementById('message');\n    this.addNoteButton = document.getElementById('save');\n    this.notesSectionTitle = document.getElementById('notes-section-title');\n\n    // Saves notes on button click.\n    this.addNoteButton.addEventListener('click', () => this.saveNote());\n\n    // Toggle for the button.\n    this.noteMessageInput.addEventListener('keyup', () => this.toggleButton());\n\n    // Loads all the notes.\n    for (let key in localStorage) {\n      this.displayNote(key, localStorage[key]);\n    }\n\n    // Listen for updates to notes from other windows.\n    window.addEventListener('storage', function(e) {\n      this.displayNote(e.key, e.newValue);\n    }.bind(this));\n  }\n\n  // Saves a new sticky note on localStorage.\n  saveNote() {\n    if (this.noteMessageInput.value) {\n      let key = Date.now().toString();\n      localStorage.setItem(key, this.noteMessageInput.value);\n      this.displayNote(key, this.noteMessageInput.value);\n      StickyNotesApp.resetMaterialTextfield(this.noteMessageInput);\n      this.toggleButton();\n    }\n  }\n\n  // Resets the given MaterialTextField.\n  static resetMaterialTextfield(element) {\n    element.value = '';\n    element.parentNode.MaterialTextfield.boundUpdateClassesHandler();\n    element.blur();\n  }\n\n  // Creates/updates/deletes a note in the UI.\n  displayNote(key, message) {\n    let note = document.getElementById(key);\n    // If no element with the given key exists we create a new note.\n    if (!note) {\n      note = document.createElement('sticky-note');\n      note.id = key;\n      this.notesContainer.insertBefore(note, this.notesSectionTitle.nextSibling);\n    }\n    // If the message is null we delete the note.\n    if (!message) {\n      return note.deleteNote();\n    }\n    note.setMessage(message);\n  }\n\n  // Enables or disables the submit button depending on the values of the input field.\n  toggleButton() {\n    if (this.noteMessageInput.value) {\n      this.addNoteButton.removeAttribute('disabled');\n    } else {\n      this.addNoteButton.setAttribute('disabled', 'true');\n    }\n  }\n}\n\n// On load start the app.\nwindow.addEventListener('load', function() {\n  new StickyNotesApp();\n});\n\n// A Sticky Note custom element that extends HTMLElement.\nclass StickyNote extends HTMLElement {\n\n  // Fires when an instance of the element is created.\n  createdCallback() {\n    this.classList.add(...StickyNote.CLASSES);\n    this.innerHTML = StickyNote.TEMPLATE;\n    this.messageElement = this.querySelector('.message');\n    this.dateElement = this.querySelector('.date');\n    this.deleteButton = this.querySelector('.delete');\n    this.deleteButton.addEventListener('click', () => this.deleteNote());\n  }\n\n  // Fires when an attribute of the element is added/deleted/modified.\n  attributeChangedCallback(attributeName) {\n    // We display/update the created date message if the id changes.\n    if (attributeName == 'id') {\n      let date;\n      if (this.id) {\n        date = new Date(parseInt(this.id));\n      } else {\n        date = new Date();\n      }\n      let dateFormatterOptions = {day: 'numeric', month: 'short'};\n      let shortDate = new Intl.DateTimeFormat(\"en-US\", dateFormatterOptions).format(date);\n      this.dateElement.textContent = `Created on ${shortDate}`;\n    }\n  }\n\n  // Sets the message of the note.\n  setMessage(message) {\n    this.messageElement.textContent = message;\n    // Replace all line breaks by <br>.\n    this.messageElement.innerHTML = this.messageElement.innerHTML.replace(/\\n/g, '<br>');\n  }\n\n  // Deletes the note by removing the element from the DOM and the data from localStorage.\n  deleteNote() {\n    localStorage.removeItem(this.id);\n    this.parentNode.removeChild(this);\n  }\n}\n\n// Initial content of the element.\nStickyNote.TEMPLATE =\n  `<div class=\"message\"></div>\n  <div class=\"date\"></div>\n  <button class=\"delete mdl-button mdl-js-button mdl-js-ripple-effect\">\n    Delete\n  </button>`;\n\n// StickyNote elements top level style classes.\nStickyNote.CLASSES = ['mdl-cell--4-col-desktop', 'mdl-card__supporting-text', 'mdl-cell--12-col',\n  'mdl-shadow--2dp', 'mdl-cell--4-col-tablet', 'mdl-card', 'mdl-cell', 'sticky-note'];\n\n// List of shortened month names.\nStickyNote.MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov',\n                     'Dec'];\n\ndocument.registerElement('sticky-note', StickyNote);\n"]}